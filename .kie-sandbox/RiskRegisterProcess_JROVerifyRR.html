<div>
	<fieldset>
		<legend>Risk register</legend>
		<div role="group">
			<fieldset>
				<legend>Primary risk info</legend>
				<div role="group">
					<div class="form-group">
						<label for="riskRegister.primaryRiskInfo.department">Department</label>
						<input
							type="text"
							id="riskRegister.primaryRiskInfo.department"
							name="riskRegister.primaryRiskInfo.department"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.primaryRiskInfo.division">Division</label>
						<input
							type="text"
							id="riskRegister.primaryRiskInfo.division"
							name="riskRegister.primaryRiskInfo.division"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.primaryRiskInfo.financialYear">Financial year</label>
						<input
							type="text"
							id="riskRegister.primaryRiskInfo.financialYear"
							name="riskRegister.primaryRiskInfo.financialYear"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.primaryRiskInfo.objectiveOfProcess">Objective of process</label>
						<input
							type="text"
							id="riskRegister.primaryRiskInfo.objectiveOfProcess"
							name="riskRegister.primaryRiskInfo.objectiveOfProcess"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.primaryRiskInfo.processName">Process name</label>
						<input
							type="text"
							id="riskRegister.primaryRiskInfo.processName"
							name="riskRegister.primaryRiskInfo.processName"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.primaryRiskInfo.processType">Process type</label>
						<input
							type="text"
							id="riskRegister.primaryRiskInfo.processType"
							name="riskRegister.primaryRiskInfo.processType"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.primaryRiskInfo.riskDescriptionPerceivedInherentRisk">Risk description perceived inherent risk</label>
						<input
							type="text"
							id="riskRegister.primaryRiskInfo.riskDescriptionPerceivedInherentRisk"
							name="riskRegister.primaryRiskInfo.riskDescriptionPerceivedInherentRisk"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.primaryRiskInfo.riskReportedBy">Risk reported by</label>
						<input
							type="text"
							id="riskRegister.primaryRiskInfo.riskReportedBy"
							name="riskRegister.primaryRiskInfo.riskReportedBy"
							class="form-control"
							value=""
						/>
					</div>
				</div>
			</fieldset>
			<fieldset>
				<legend>Reason</legend>
				<div role="group">
					<div class="form-group">
						<label for="riskRegister.reason.comments">Comments</label>
						<input type="text" id="riskRegister.reason.comments" name="riskRegister.reason.comments" class="form-control" value="" />
					</div>
					<div class="form-group">
						<label for="riskRegister.reason.reasons">Reasons</label>
						<input type="text" id="riskRegister.reason.reasons" name="riskRegister.reason.reasons" class="form-control" value="" />
					</div>
				</div>
			</fieldset>
			<fieldset>
				<legend>Residual risk</legend>
				<div role="group">
					<div class="form-group">
						<label for="riskRegister.residualRisk.financialRisk">Financial risk</label>
						<input
							type="text"
							id="riskRegister.residualRisk.financialRisk"
							name="riskRegister.residualRisk.financialRisk"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.residualRisk.likelihoodScale">Likelihood scale</label>
						<input
							type="text"
							id="riskRegister.residualRisk.likelihoodScale"
							name="riskRegister.residualRisk.likelihoodScale"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.residualRisk.reputationalRiskImpact">Reputational risk impact</label>
						<input
							type="text"
							id="riskRegister.residualRisk.reputationalRiskImpact"
							name="riskRegister.residualRisk.reputationalRiskImpact"
							class="form-control"
							value=""
						/>
					</div>
				</div>
			</fieldset>
			<fieldset>
				<legend>Risk category</legend>
				<div role="group">
					<div class="form-group">
						<label for="riskRegister.riskCategory.businessDisruptionRisk">Business disruption risk</label>
						<input
							type="text"
							id="riskRegister.riskCategory.businessDisruptionRisk"
							name="riskRegister.riskCategory.businessDisruptionRisk"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskCategory.cause">Cause</label>
						<input type="text" id="riskRegister.riskCategory.cause" name="riskRegister.riskCategory.cause" class="form-control" value="" />
					</div>
					<div class="form-group">
						<label for="riskRegister.riskCategory.causeSubClassification">Cause sub classification</label>
						<input
							type="text"
							id="riskRegister.riskCategory.causeSubClassification"
							name="riskRegister.riskCategory.causeSubClassification"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskCategory.financialRiskImpact">Financial risk impact</label>
						<input
							type="text"
							id="riskRegister.riskCategory.financialRiskImpact"
							name="riskRegister.riskCategory.financialRiskImpact"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskCategory.likelihoodScale">Likelihood scale</label>
						<input
							type="text"
							id="riskRegister.riskCategory.likelihoodScale"
							name="riskRegister.riskCategory.likelihoodScale"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskCategory.reputationRiskImpact">Reputation risk impact</label>
						<input
							type="text"
							id="riskRegister.riskCategory.reputationRiskImpact"
							name="riskRegister.riskCategory.reputationRiskImpact"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<div class="card mb-3">
							<div class="card-body">
								<div class="card-title">
									<label class="col-form-label">Type</label>
									<div
										id="add-item-riskRegister.riskCategory.type"
										name="Add Item"
										class="badge badge-pill float-right"
										role="button"
										tabindex="0"
										onclick="onAddListItemRiskRegisterRiskCategoryType('riskRegister.riskCategory.type')"
										onkeydown="onAddListItemRiskRegisterRiskCategoryType('riskRegister.riskCategory.type')"
									>
										<i className="octicon octicon-plus"><span>+</span></i>
									</div>
								</div>
								<div role="list" id="riskRegister.riskCategory.type"></div>
							</div>
						</div>
					</div>
				</div>
			</fieldset>
			<fieldset>
				<legend>Risk control measure</legend>
				<div role="group">
					<div class="form-group">
						<label for="riskRegister.riskControlMeasure.controlDescription">Control description</label>
						<input
							type="text"
							id="riskRegister.riskControlMeasure.controlDescription"
							name="riskRegister.riskControlMeasure.controlDescription"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskControlMeasure.controlDocumentationAndDisseminationRiskImpact"
							>Control documentation and dissemination risk impact</label
						>
						<input
							type="text"
							id="riskRegister.riskControlMeasure.controlDocumentationAndDisseminationRiskImpact"
							name="riskRegister.riskControlMeasure.controlDocumentationAndDisseminationRiskImpact"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskControlMeasure.controlExecutionRiskImpact">Control execution risk impact</label>
						<input
							type="text"
							id="riskRegister.riskControlMeasure.controlExecutionRiskImpact"
							name="riskRegister.riskControlMeasure.controlExecutionRiskImpact"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskControlMeasure.levelsOfControlExecutionRiskImpact">Levels of control execution risk impact</label>
						<input
							type="text"
							id="riskRegister.riskControlMeasure.levelsOfControlExecutionRiskImpact"
							name="riskRegister.riskControlMeasure.levelsOfControlExecutionRiskImpact"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskControlMeasure.monitoringPeriodicityRiskImpact">Monitoring periodicity risk impact</label>
						<input
							type="text"
							id="riskRegister.riskControlMeasure.monitoringPeriodicityRiskImpact"
							name="riskRegister.riskControlMeasure.monitoringPeriodicityRiskImpact"
							class="form-control"
							value=""
						/>
					</div>
					<div class="form-group">
						<label for="riskRegister.riskControlMeasure.natureOfControlsRiskImpact">Nature of controls risk impact</label>
						<input
							type="text"
							id="riskRegister.riskControlMeasure.natureOfControlsRiskImpact"
							name="riskRegister.riskControlMeasure.natureOfControlsRiskImpact"
							class="form-control"
							value=""
						/>
					</div>
				</div>
			</fieldset>
		</div>
	</fieldset>
	<script>
		// List Field Helper functions -- START --
		function delListItem(name, minCount, itemIndex, onDelListItem) {
			const formData = getFormData();
			const value = accessObjectPath(formData, name) ?? [];
			if ((minCount ?? 0) <= value.length) {
				document.getElementById(`item-${name}.${itemIndex}`).remove();
			}
			// Re-organize list
			Array.from(document.getElementById(name).childNodes ?? [])
				.filter((node) => node.nodeType === 1)
				.forEach((element, index) => {
					const delElement = element.querySelector(`[id='remove-item-${name}']`);
					delElement.onclick = function () {
						onDelListItem(name, `${index}`);
					};
					delElement.onkeydown = function () {
						onDelListItem(name, `${index}`);
					};
					const inputOrSelect = element.querySelector("input, select");
					inputOrSelect.id = `${name}.${index}`;
					inputOrSelect.name = `${name}.${index}`;
					element.id = `item-${name}.${index}`;
				});
		}
		function addListItem(name, defaultValue, maxCount, childrenHtml, functionName) {
			const formData = getFormData();
			let value = accessObjectPath(formData, name) ?? [];
			const itemIndex = value.length;
			if (maxCount !== undefined && maxCount > value.length) {
				value = value.concat([defaultValue]);
			} else {
				value = value.concat([defaultValue]);
			}
			const listContainer = document.getElementById(name);
			const newItem = document.createElement("div");
			newItem.class = "row";
			newItem.id = `item-${name}.${itemIndex}`;
			newItem.innerHTML = `
<div class="col-1">
<span id="remove-item-${name}" name="Remove Item" class="badge badge-pill" role="button" tabindex="0" onclick="onDelListItem${functionName}('${name}', ${itemIndex})" onkeydown="onDelListItem${functionName}('${name}', ${itemIndex})">
  <i className="octicon octicon-dash"><span>-</span></i>
</span>
</div>
<div class="col-11">
${childrenHtml}
</div>
`;
			listContainer.appendChild(newItem);
			// Replace all "$" from `input` and `select` with the `itemIndex`
			const newItemElement = document.getElementById(newItem.id);
			[...newItemElement.querySelectorAll('input[id*="$"], select[id*="$"]')].forEach((el) => {
				if (el.id.split(".").pop() !== "$") {
					el.id = `${name}.${itemIndex}.${el.id.split(".").pop()}`;
					el.name = `${name}.${itemIndex}.${el.id.split(".").pop()}`;
				} else {
					el.id = `${name}.${itemIndex}`;
					el.name = `${name}.${itemIndex}`;
				}
			});
			// Get the root element of a nested list
			[...newItemElement.querySelectorAll("div[role='list']")].forEach((nestedListContainer) => {
				if (!nestedListContainer) {
					return;
				}
				// Replace "$" from the root element if necessary
				const nestedListPathWithIndex = splitLastOccurrence(nestedListContainer.id, "$")?.[1]?.replace("$", `${itemIndex}`);
				nestedListContainer.id = nestedListPathWithIndex ? `${name}.${nestedListPathWithIndex}` : name;
				// Replace "$" from all nested Add Item element
				[...newItemElement.querySelectorAll("[id^=add-item]")].forEach((addItem) => {
					const addItemPathWithIndex = splitLastOccurrence(addItem.id, "$")?.[1]?.replace("$", `${itemIndex}`);
					addItem.id = addItemPathWithIndex ? `add-item-${name}.${addItemPathWithIndex}` : `add-item-${name}`;
					const addItemOnClick = addItem.getAttribute("onclick");
					if (addItemOnClick) {
						addItem.setAttribute("onclick", getFunctionName(addItemOnClick, itemIndex));
					}
					const addItemOnKeydown = addItem.getAttribute("onkeydown");
					if (addItemOnKeydown) {
						addItem.setAttribute("onkeydown", getFunctionName(addItemOnKeydown, itemIndex));
					}
				});
				// Replace "$" from the Remove Item element
				[...newItemElement.querySelectorAll("[id^=remove-item]")].forEach((removeItem) => {
					const removeItemPathWithIndex = splitLastOccurrence(removeItem.id, "$")?.[1]?.replace("$", `${itemIndex}`);
					removeItem.id = removeItemPathWithIndex ? `remove-item-${name}.${removeItemPathWithIndex}` : `remove-item-${name}`;
					const removeItemOnClick = removeItem.getAttribute("onclick");
					if (removeItemOnClick) {
						removeItem.setAttribute("onclick", getFunctionName(removeItemOnClick, itemIndex));
					}
					const removeItemOnKeydown = removeItem.getAttribute("onkeydown");
					if (removeItemOnKeydown) {
						removeItem.setAttribute("onkeydown", getFunctionName(removeItemOnKeydown, itemIndex));
					}
				});
			});
		}
		function getFunctionName(functionCall, itemIndex) {
			const [call, argument, end] = functionCall.split("'");
			const [argumentName, argumentNameToReplace] = splitLastOccurrence(argument, "$");
			return `${call}'${argumentName}${argumentNameToReplace?.replace("$", `${itemIndex}`) ?? ""}'${end}`;
		}
		function splitLastOccurrence(str, char) {
			const lastIndex = str.lastIndexOf(char);
			if (lastIndex === -1) {
				return [str];
			}
			return [str.substring(0, lastIndex), str.substring(lastIndex)];
		}
		function getListValue(itemListElement) {
			function setValue(obj, path, value) {
				const keys = path.split(".");
				let current = obj;
				for (let i = 0; i < keys.length; i++) {
					const key = keys[i];
					const isArray = !isNaN(keys[i + 1]);
					if (i === keys.length - 1) {
						current[key] = value;
					} else {
						if (!current[key]) {
							current[key] = isArray ? [] : {};
						}
						if (isArray && !Array.isArray(current[key])) {
							current[key] = [];
						}
						current = current[key];
					}
				}
			}
			function traverse(element, result, path = "") {
				element.querySelectorAll("input, select").forEach((input) => {
					if (input.id) {
						setValue(result, input.id, input.value || "");
					}
				});
			}
			const result = {};
			traverse(itemListElement, result);
			const [_, path] = itemListElement.id.split("item-");
			return accessObjectPath(result, path);
		}
		function accessObjectPath(obj, objPath) {
			return objPath.split(".")?.reduce((acc, pathPiece) => acc?.[pathPiece], obj);
		}
		// List Field Helper functions -- END --
		function onDelListItemRiskRegisterRiskCategoryType(name, itemIndex) {
			const disabled = false;
			if (!disabled) {
				delListItem(name, undefined, itemIndex, onDelListItemRiskRegisterRiskCategoryType);
			}
		}
		function onAddListItemRiskRegisterRiskCategoryType(name, initialSetValues) {
			const disabled = false;
			if (!disabled || initialSetValues) {
				addListItem(
					name,
					undefined,
					undefined,
					`<div class="form-group">
    <label for="item-${name}.$"></label>
    <input type="text"
    id="${name}.$"
    name="${name}.$"
    class="form-control"
    value=""/>
</div>`,
					"RiskRegisterRiskCategoryType"
				);
			}
		}
		/* Utility function that fills the form with the data received from the kogito runtime */
		function setFormData(data) {
			if (!data) {
				return;
			}
			document.getElementById("riskRegister.primaryRiskInfo.department").value = data?.riskRegister?.primaryRiskInfo?.department ?? "";
			document.getElementById("riskRegister.primaryRiskInfo.division").value = data?.riskRegister?.primaryRiskInfo?.division ?? "";
			document.getElementById("riskRegister.primaryRiskInfo.financialYear").value =
				data?.riskRegister?.primaryRiskInfo?.financialYear ?? "";
			document.getElementById("riskRegister.primaryRiskInfo.objectiveOfProcess").value =
				data?.riskRegister?.primaryRiskInfo?.objectiveOfProcess ?? "";
			document.getElementById("riskRegister.primaryRiskInfo.processName").value = data?.riskRegister?.primaryRiskInfo?.processName ?? "";
			document.getElementById("riskRegister.primaryRiskInfo.processType").value = data?.riskRegister?.primaryRiskInfo?.processType ?? "";
			document.getElementById("riskRegister.primaryRiskInfo.riskDescriptionPerceivedInherentRisk").value =
				data?.riskRegister?.primaryRiskInfo?.riskDescriptionPerceivedInherentRisk ?? "";
			document.getElementById("riskRegister.primaryRiskInfo.riskReportedBy").value =
				data?.riskRegister?.primaryRiskInfo?.riskReportedBy ?? "";
			document.getElementById("riskRegister.reason.comments").value = data?.riskRegister?.reason?.comments ?? "";
			document.getElementById("riskRegister.reason.reasons").value = data?.riskRegister?.reason?.reasons ?? "";
			document.getElementById("riskRegister.residualRisk.financialRisk").value = data?.riskRegister?.residualRisk?.financialRisk ?? "";
			document.getElementById("riskRegister.residualRisk.likelihoodScale").value = data?.riskRegister?.residualRisk?.likelihoodScale ?? "";
			document.getElementById("riskRegister.residualRisk.reputationalRiskImpact").value =
				data?.riskRegister?.residualRisk?.reputationalRiskImpact ?? "";
			document.getElementById("riskRegister.riskCategory.businessDisruptionRisk").value =
				data?.riskRegister?.riskCategory?.businessDisruptionRisk ?? "";
			document.getElementById("riskRegister.riskCategory.cause").value = data?.riskRegister?.riskCategory?.cause ?? "";
			document.getElementById("riskRegister.riskCategory.causeSubClassification").value =
				data?.riskRegister?.riskCategory?.causeSubClassification ?? "";
			document.getElementById("riskRegister.riskCategory.financialRiskImpact").value =
				data?.riskRegister?.riskCategory?.financialRiskImpact ?? "";
			document.getElementById("riskRegister.riskCategory.likelihoodScale").value = data?.riskRegister?.riskCategory?.likelihoodScale ?? "";
			document.getElementById("riskRegister.riskCategory.reputationRiskImpact").value =
				data?.riskRegister?.riskCategory?.reputationRiskImpact ?? "";
			data?.riskRegister?.riskCategory?.type?.forEach((value, index) => {
				// Add element;
				onAddListItemRiskRegisterRiskCategoryType(`riskRegister.riskCategory.type`, true);
				const itemIndex__currentItem = `riskRegister.riskCategory.type.${index}`;
				document.getElementById(`${itemIndex__currentItem}`).value = value ?? "";
			});
			document.getElementById("riskRegister.riskControlMeasure.controlDescription").value =
				data?.riskRegister?.riskControlMeasure?.controlDescription ?? "";
			document.getElementById("riskRegister.riskControlMeasure.controlDocumentationAndDisseminationRiskImpact").value =
				data?.riskRegister?.riskControlMeasure?.controlDocumentationAndDisseminationRiskImpact ?? "";
			document.getElementById("riskRegister.riskControlMeasure.controlExecutionRiskImpact").value =
				data?.riskRegister?.riskControlMeasure?.controlExecutionRiskImpact ?? "";
			document.getElementById("riskRegister.riskControlMeasure.levelsOfControlExecutionRiskImpact").value =
				data?.riskRegister?.riskControlMeasure?.levelsOfControlExecutionRiskImpact ?? "";
			document.getElementById("riskRegister.riskControlMeasure.monitoringPeriodicityRiskImpact").value =
				data?.riskRegister?.riskControlMeasure?.monitoringPeriodicityRiskImpact ?? "";
			document.getElementById("riskRegister.riskControlMeasure.natureOfControlsRiskImpact").value =
				data?.riskRegister?.riskControlMeasure?.natureOfControlsRiskImpact ?? "";
		}
		/* Utility function to generate the expected form output as a json object */
		function getFormData() {
			const formData = {};
			formData.riskRegister = {};
			formData.riskRegister.primaryRiskInfo = {};
			formData.riskRegister.primaryRiskInfo.department = document.getElementById("riskRegister.primaryRiskInfo.department").value;
			formData.riskRegister.primaryRiskInfo.division = document.getElementById("riskRegister.primaryRiskInfo.division").value;
			formData.riskRegister.primaryRiskInfo.financialYear = document.getElementById("riskRegister.primaryRiskInfo.financialYear").value;
			formData.riskRegister.primaryRiskInfo.objectiveOfProcess = document.getElementById(
				"riskRegister.primaryRiskInfo.objectiveOfProcess"
			).value;
			formData.riskRegister.primaryRiskInfo.processName = document.getElementById("riskRegister.primaryRiskInfo.processName").value;
			formData.riskRegister.primaryRiskInfo.processType = document.getElementById("riskRegister.primaryRiskInfo.processType").value;
			formData.riskRegister.primaryRiskInfo.riskDescriptionPerceivedInherentRisk = document.getElementById(
				"riskRegister.primaryRiskInfo.riskDescriptionPerceivedInherentRisk"
			).value;
			formData.riskRegister.primaryRiskInfo.riskReportedBy = document.getElementById("riskRegister.primaryRiskInfo.riskReportedBy").value;
			formData.riskRegister.reason = {};
			formData.riskRegister.reason.comments = document.getElementById("riskRegister.reason.comments").value;
			formData.riskRegister.reason.reasons = document.getElementById("riskRegister.reason.reasons").value;
			formData.riskRegister.residualRisk = {};
			formData.riskRegister.residualRisk.financialRisk = document.getElementById("riskRegister.residualRisk.financialRisk").value;
			formData.riskRegister.residualRisk.likelihoodScale = document.getElementById("riskRegister.residualRisk.likelihoodScale").value;
			formData.riskRegister.residualRisk.reputationalRiskImpact = document.getElementById(
				"riskRegister.residualRisk.reputationalRiskImpact"
			).value;
			formData.riskRegister.riskCategory = {};
			formData.riskRegister.riskCategory.businessDisruptionRisk = document.getElementById(
				"riskRegister.riskCategory.businessDisruptionRisk"
			).value;
			formData.riskRegister.riskCategory.cause = document.getElementById("riskRegister.riskCategory.cause").value;
			formData.riskRegister.riskCategory.causeSubClassification = document.getElementById(
				"riskRegister.riskCategory.causeSubClassification"
			).value;
			formData.riskRegister.riskCategory.financialRiskImpact = document.getElementById(
				"riskRegister.riskCategory.financialRiskImpact"
			).value;
			formData.riskRegister.riskCategory.likelihoodScale = document.getElementById("riskRegister.riskCategory.likelihoodScale").value;
			formData.riskRegister.riskCategory.reputationRiskImpact = document.getElementById(
				"riskRegister.riskCategory.reputationRiskImpact"
			).value;
			formData.riskRegister.riskCategory.type = Array.from(document.getElementById("riskRegister.riskCategory.type").childNodes).reduce(
				(values, element) => {
					return [...values, getListValue(element)];
				},
				[]
			);
			formData.riskRegister.riskControlMeasure = {};
			formData.riskRegister.riskControlMeasure.controlDescription = document.getElementById(
				"riskRegister.riskControlMeasure.controlDescription"
			).value;
			formData.riskRegister.riskControlMeasure.controlDocumentationAndDisseminationRiskImpact = document.getElementById(
				"riskRegister.riskControlMeasure.controlDocumentationAndDisseminationRiskImpact"
			).value;
			formData.riskRegister.riskControlMeasure.controlExecutionRiskImpact = document.getElementById(
				"riskRegister.riskControlMeasure.controlExecutionRiskImpact"
			).value;
			formData.riskRegister.riskControlMeasure.levelsOfControlExecutionRiskImpact = document.getElementById(
				"riskRegister.riskControlMeasure.levelsOfControlExecutionRiskImpact"
			).value;
			formData.riskRegister.riskControlMeasure.monitoringPeriodicityRiskImpact = document.getElementById(
				"riskRegister.riskControlMeasure.monitoringPeriodicityRiskImpact"
			).value;
			formData.riskRegister.riskControlMeasure.natureOfControlsRiskImpact = document.getElementById(
				"riskRegister.riskControlMeasure.natureOfControlsRiskImpact"
			).value;
			return formData;
		}
		/* Utility function to validate the form on the 'beforeSubmit' Lifecycle Hook */
		function validateForm() {}
		/*
            Call to the Kogito console form engine. It will establish the connection with the console embeding the form
            and return an instance of FormAPI that will allow hook custom code into the form lifecycle.
            The `window.Form.openForm` call expects an object with the following entries:
                - onOpen: Callback that will be called after the connection with the console is established. The callback
                will receive the following arguments:
                    - data: the data to be bound into the form
                    - ctx: info about the context where the form is being displayed. This will contain information such as the form JSON Schema, process/task, user...
        */
		const formApi = window.Form.openForm({
			onOpen: (data, context) => {
				setFormData(data);
			},
		});
		/*
            Form Lifecycle Hook that will be executed before the form is submitted.
            Throwing an error will stop the form submit. Usually should be used to validate the form.
        */
		formApi.beforeSubmit = () => {
			validateForm();
		};
		/*
            Form Lifecycle Hook that will be executed after the form is submitted.
            It will receive a response object containing the `type` flag indicating if the submit has been successful and `info` with extra information about the submit result.
        */
		formApi.afterSubmit = (response) => {};
		/* Generates the expected form output object to be posted */
		formApi.getFormData = () => getFormData();
	</script>
</div>
